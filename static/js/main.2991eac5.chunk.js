(this["webpackJsonpbookshelf-app"]=this["webpackJsonpbookshelf-app"]||[]).push([[0],{115:function(e,t,a){},135:function(e,t,a){e.exports=a(187)},140:function(e,t,a){},141:function(e,t){},169:function(e,t){},187:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"books",(function(){return we}));var r=a(0),o=a.n(r),l=a(48),c=a.n(l),i=(a(140),a(74)),u=(a(141),a(188)),s=a(189),m=a(190),p=a(191),d=a(192),h=a(193),E=a(194),f=a(195),b={left:[{title:"HomePage",to:"/"},{title:"Read Books",to:"/read-books"}],right:[{title:"+ Add Book",to:"/add-book"}]},g=a(28),O=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1];return o.a.createElement("div",null,o.a.createElement(u.a,{color:"dark",dark:!0,expand:"md"},o.a.createElement(s.a,{tag:g.b,to:"/"},"BookShelf App"),o.a.createElement(m.a,{onClick:function(){return n(!a)}}),o.a.createElement(p.a,{isOpen:a,navbar:!0},o.a.createElement(d.a,{className:"mr-auto",navbar:!0},b.left.map((function(e){return o.a.createElement(h.a,null,o.a.createElement(E.a,{tag:g.b,to:e.to},e.title))}))),b.right.map((function(e){return o.a.createElement(f.a,null,o.a.createElement(E.a,{tag:g.b,to:e.to},e.title))})))))},v=a(8),y=a(85),k=a(49),j=a(50),S=a(63),T=a(62),x=a(37),w=a(7),C=a(65),R=a.n(C),B=["JavaScript","HTML","CSS","Python","JAVA"],A=[1,2,3,4,5],U=["Not read","Read"],_="https://5ebbfa35f2cfeb001697d47a.mockapi.io",P=a(196),D=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(e){return Object(k.a)(this,a),t.call(this,e)}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.getBooks()}},{key:"render",value:function(){var e=this;if(this.props.loading)return o.a.createElement("h1",null,"BOOKS ARE LOADING...");var t=this.props.books,a=[];a=this.props.filter?t.filter((function(t){return t.category===e.props.filter})):t,this.props.searchTerm&&(a="title"===this.props.searchType?a.filter((function(t){return t.title.toLowerCase().indexOf(e.props.searchTerm.toLowerCase())>-1})):a.filter((function(t){return t.author.toLowerCase().indexOf(e.props.searchTerm.toLowerCase())>-1})));var n=[],r="";return r=(n=this.props.sortTerm?Object(y.a)(a).sort((function(t,a){return console.log(t,a,e.props.sortTerm),parseInt(a[e.props.sortTerm])-parseInt(t[e.props.sortTerm])})):a).length<1?o.a.createElement("h2",null,"NO BOOKS HERE"):o.a.createElement(de,{items:n}),o.a.createElement("div",null,o.a.createElement(Se,null),o.a.createElement(P.a,null,o.a.createElement("div",{className:"books-holder"},r)))}}]),a}(o.a.Component),N={getBooks:function(){return function(e){e({type:"LOAD_BOOKS"}),R.a.get("".concat(_,"/books")).then((function(t){e({type:"SET_BOOKS",payload:t.data})})).catch((function(e){console.log(e)}))}}},K=Object(x.b)((function(e){return{books:e.books.data,loading:e.books.loading,filter:e.books.filter,searchTerm:e.books.searchTerm,sortTerm:e.books.sortTerm,searchType:e.books.searchType}}),N)(D),L=a(197),F=a(198),I=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).state={book:""},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.routerProps.match.params.id;t&&R.a.get("".concat(_,"/books/").concat(t)).then((function(t){e.setState({book:t.data})}))}},{key:"render",value:function(){var e=this.props.componentProps.isEdit;this.props.routerProps.match.params.id;return o.a.createElement(L.a,null,o.a.createElement(F.a,{xs:12},e?o.a.createElement("h3",null,"Edit book"):o.a.createElement("h3",null,"Add a new book")),o.a.createElement(F.a,{xs:12},o.a.createElement(ae,{isEdit:e,book:this.state.book})))}}]),a}(o.a.Component),H=[{title:"Home Page",path:"/",exact:!0,componentProps:{},component:K},{title:"Add Book",path:"/add-book",exact:!1,componentProps:{},component:I},{title:"Edit Book",path:"/edit-book/:id",exact:!1,componentProps:{isEdit:!0},component:I}],q=function(){return o.a.createElement("div",null,o.a.createElement(v.c,null,H.map((function(e){return o.a.createElement(v.a,{path:e.path,exact:e.exact,component:function(t){var a=e.component;return o.a.createElement(J,{title:e.title,routerProps:t,componentProps:e.componentProps},a)}})}))))},G=(a(169),q),J=function(e){Object(S.a)(a,e);var t=Object(T.a)(a);function a(e){return Object(k.a)(this,a),t.call(this,e)}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.title;document.title=e}},{key:"render",value:function(){var e=this.props.children;return o.a.createElement("div",null,o.a.createElement(e,{routerProps:this.props.routerProps,componentProps:this.props.componentProps}))}}]),a}(r.Component),M=a(199),V=a(200),z=a(201),W=a(202),X=a(203),$=a(127),Q=a(134),Y=a(68),Z=Y.a().shape({title:Y.b().required("Title is a required field"),author:Y.b().required("Author is a required field"),review:Y.b().min(30,"Review must be at least 30 characters"),goodReadsUrl:Y.b().required().url("Url is not a valid.")}),ee=function(e){console.log(e);var t={title:"",author:"",category:"",description:"",review:"",rating:"",imageUrl:"",goodReadsUrl:"",status:""};return e.isEdit&&e.book&&(t=Object(w.a)({},e.book)),o.a.createElement("div",null,o.a.createElement(P.a,null,o.a.createElement(Q.a,{initialValues:t,validationSchema:Z,onSubmit:function(t){e.isEdit?e.updateBook(e.book.id,t,e.history):e.addBook(t,e.history)},enableReinitialize:!0},(function(t){var a=t.values,n=t.errors,r=(t.touched,t.handleChange),l=(t.handleBlur,t.handleSubmit);t.isSubmitting;return o.a.createElement(M.a,{onSubmit:l},o.a.createElement(V.a,null,o.a.createElement(z.a,{for:"title"},"Title"),o.a.createElement(W.a,{type:"text",name:"title",id:"title",placeholder:"Name of the book",value:a.title,onChange:r,invalid:n.title}),n.title&&o.a.createElement(X.a,null,n.title)),o.a.createElement(V.a,null,o.a.createElement(z.a,{for:"author"},"Author"),o.a.createElement(W.a,{type:"text",name:"author",id:"author",placeholder:"Author of the book",value:a.author,onChange:r,invalid:n.author}),n.author&&o.a.createElement(X.a,null,n.author)),o.a.createElement(V.a,null,o.a.createElement(z.a,{for:"imageUrl"},"Image URL"),o.a.createElement(W.a,{type:"text",name:"imageUrl",id:"imageUrl",placeholder:"Image of the book",value:a.imageUrl,onChange:r})),o.a.createElement(V.a,null,o.a.createElement(z.a,{for:"goodReadsUrl"},"Goodreads Url"),o.a.createElement(W.a,{type:"url",name:"goodReadsUrl",id:"goodReadsUrl",value:a.goodReadsUrl,onChange:r,placeholder:"GoodReads Url Giriniz",invalid:n.goodReadsUrl}),n.goodReadsUrl&&o.a.createElement(X.a,null,n.goodReadsUrl)),o.a.createElement(V.a,null,o.a.createElement(z.a,{for:"exampleSelect"},"Category"),o.a.createElement(W.a,{type:"select",name:"category",id:"category",value:a.category,onChange:r},B.map((function(e){return o.a.createElement("option",null,e)})))),o.a.createElement(V.a,null,o.a.createElement(z.a,{for:"exampleText"},"Description"),o.a.createElement(W.a,{type:"textarea",name:"description",id:"description",value:a.description,onChange:r})),o.a.createElement(V.a,null,o.a.createElement(z.a,{for:"exampleText"},"Review"),o.a.createElement(W.a,{type:"textarea",name:"review",id:"review",value:a.review,onChange:r,invalid:n.review}),n.review&&o.a.createElement(X.a,null,n.review)),o.a.createElement(V.a,null,o.a.createElement(z.a,{for:"exampleSelect"},"Rating"),o.a.createElement(W.a,{type:"select",name:"rating",id:"rating",value:a.rating,onChange:r},A.map((function(e){return o.a.createElement("option",null,e)})))),o.a.createElement(V.a,null,o.a.createElement(z.a,{for:"exampleSelect"},"Status"),o.a.createElement(W.a,{type:"select",name:"status",id:"status",value:a.status,onChange:r},U.map((function(e){return o.a.createElement("option",null,e)})))),e.isEdit?o.a.createElement($.a,{color:"primary"},"Save"):o.a.createElement($.a,{color:"primary"},"Add"))}))))},te={addBook:function(e,t){return function(a){R.a.post("".concat(_,"/books"),e).then((function(e){a({type:"ADD_BOOK",payload:e.data}),t.push("/")})).catch((function(e){console.log(e)}))}},updateBook:function(e,t,a){return function(n){R.a.put("".concat(_,"/books/").concat(e),Object(w.a)({},t)).then((function(e){a.push("/")})).catch((function(e){console.log(e)}))}}};ee.defaultProps={category:"JavaScript",rating:1};var ae=Object(v.f)(Object(x.b)(null,te)(ee)),ne=a(205),re=a(206),oe=a(207),le=a(208),ce=a(72),ie=a(73),ue=a(204);function se(){var e=Object(ce.a)(["\n        height: 444px;\n        .card-img-top {\n        height: 250px;\n        }\n"]);return se=function(){return e},e}var me=Object(ie.a)(ue.a)(se()),pe=(a(115),function(e){var t=e.imageUrl,a=e.rating,n=e.title,r=e.id,l=e.goodReadsUrl,c=e.review;return o.a.createElement(me,{className:"bookCard"},o.a.createElement(ne.a,{top:!0,width:"100%",src:t,alt:n}),o.a.createElement(re.a,{className:"cardBody"},o.a.createElement(oe.a,null,o.a.createElement("strong",null,"".concat(a," / 5"))),o.a.createElement(oe.a,null,n),o.a.createElement(le.a,null,c),o.a.createElement(le.a,null,o.a.createElement(g.b,{to:"/edit-book/".concat(r)},"Edit")),o.a.createElement(le.a,null,l&&o.a.createElement("a",{href:"".concat(l),target:"_blank",rel:"noopener noreferrer"},"Good Reads"))))}),de=function(e){return o.a.createElement(L.a,null,e.items.map((function(e){return o.a.createElement(F.a,{xs:12,md:3},o.a.createElement(pe,e))})))},he=a(209),Ee=a(211),fe=a(212),be=a(213),ge=a(210);function Oe(){var e=Object(ce.a)(["\n    display: inline-flex;\n    width: 50%;\n"]);return Oe=function(){return e},e}function ve(){var e=Object(ce.a)(["\n    margin-left: 15px;\n    color: ",";\n    cursor: pointer;\n"]);return ve=function(){return e},e}var ye=Object(ie.a)(f.a)(ve(),(function(e){return e.active?"#FF8247":"#035491"})),ke=Object(ie.a)(he.a)(Oe()),je={changeFilter:function(e){return function(t){t({type:"SET_FILTER",payload:e})}},search:function(e){return function(t){t({type:"SEARCH_BOOKS",payload:e})}},sort:function(e){return function(t){t({type:"SORT_BOOKS",payload:e})}}},Se=Object(x.b)((function(e){return{activeFilter:e.books.filter}}),je)((function(e){var t=Object(r.useState)(!1),a=Object(i.a)(t,2),n=a[0],l=a[1],c=Object(r.useState)({searchTerm:"",searchType:"title"}),u=Object(i.a)(c,2),s=u[0],m=u[1];return Object(r.useEffect)((function(){e.search(s)}),[s]),o.a.createElement("div",null,o.a.createElement(P.a,{fluid:!0,className:"bg-white",style:{padding:"15px"}},o.a.createElement(L.a,null,o.a.createElement(F.a,{xs:12,md:6},o.a.createElement(d.a,{className:"bg-white"},o.a.createElement(ye,null,o.a.createElement("strong",null,"Categories:")),o.a.createElement(ye,{active:!e.activeFilter,onClick:function(){e.changeFilter("")}},"All"),B.map((function(t){return o.a.createElement(ye,{active:e.activeFilter===t,onClick:function(){e.changeFilter(t)}},t)})))),o.a.createElement(F.a,{xs:12,md:6},o.a.createElement(L.a,null,o.a.createElement(F.a,{xs:12,md:6},o.a.createElement(he.a,null,o.a.createElement(Ee.a,{addonType:"append",isOpen:n,toggle:function(){return l(!n)}},o.a.createElement(fe.a,{caret:!0},"Search by: ",s.searchType),o.a.createElement(be.a,null,o.a.createElement(ge.a,{values:"Title",onClick:function(e){m(Object(w.a)(Object(w.a)({},s),{},{searchType:"Title"}))}},"Search by Title"),o.a.createElement(ge.a,{values:"Author",onClick:function(e){m(Object(w.a)(Object(w.a)({},s),{},{searchType:"Author"}))}},"Search by Author"))),o.a.createElement(W.a,{onChange:function(e){m(Object(w.a)(Object(w.a)({},s),{},{searchTerm:e.target.value}))}}))),o.a.createElement(F.a,{xs:12,md:6},o.a.createElement(ke,null,o.a.createElement(W.a,{type:"select",name:"select",id:"exampleSelect",onChange:function(t){e.sort(t.target.value)}},o.a.createElement("option",{value:""},"No Sort"),o.a.createElement("option",{value:"alphabetical"},"Sort Alphabetical"),o.a.createElement("option",{value:"rating"},"Sort by Rating")))))))))}));var Te=function(){return o.a.createElement("div",null,o.a.createElement(O,null),o.a.createElement(G,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(186);var xe={data:[],loading:!1,filter:"",searchTerm:"",sortTerm:"",searchType:""},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BOOK":return Object(w.a)(Object(w.a)({},e),{},{data:[].concat(Object(y.a)(e.data),[t.payload])});case"SET_BOOKS":return Object(w.a)(Object(w.a)({},e),{},{data:t.payload,loading:!1});case"LOAD_BOOKS":return Object(w.a)(Object(w.a)({},e),{},{loading:!0});case"SET_FILTER":return Object(w.a)(Object(w.a)({},e),{},{filter:t.payload});case"SEARCH_BOOKS":return Object(w.a)(Object(w.a)({},e),{},{searchTerm:t.payload.searchTerm,searchType:t.payload.searchType});case"SORT_BOOKS":return Object(w.a)(Object(w.a)({},e),{},{sortTerm:t.payload});default:return e}},Ce=a(45),Re=a(133),Be=Object(Ce.c)(n),Ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ce.d,Ue=Object(Ce.e)(Be,Ae(Object(Ce.a)(Re.a))),_e=a(18),Pe=Object(_e.a)();c.a.render(o.a.createElement(x.a,{store:Ue},o.a.createElement(g.a,{history:Pe},o.a.createElement(Te,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[135,1,2]]]);
//# sourceMappingURL=main.2991eac5.chunk.js.map